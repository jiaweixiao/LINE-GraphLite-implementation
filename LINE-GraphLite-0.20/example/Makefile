# ----------------------------------------------------------------------
# compiler options
# ----------------------------------------------------------------------

CXX= g++

CFLAGS_COMMON=-std=c++0x -g -O2 -lgsl -lm -lgslcblas -I${HADOOP_INCLUDE} -I${GRAPHLITE_HOME}/include
LIB_GRAPHALGO=-fPIC -shared

# ----------------------------------------------------------------------
# target
# ----------------------------------------------------------------------

all : example

# ----------------------------------------------------------------------
# example graph algorithms
# ----------------------------------------------------------------------

EXAMPLE_ALGOS=Line.so

example: ${EXAMPLE_ALGOS}

%.so : %.cc
        ${CXX} ${CFLAGS_COMMON} $< ${LIB_GRAPHALGO} -o $@

Line.so : Line.cc

# ----------------------------------------------------------------------
# clean up
# ----------------------------------------------------------------------

clean :
        rm -rf *.so